(()=>{var e={};e.id=636,e.ids=[636],e.modules={5680:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{$:()=>i,C:()=>o});var r=a(1428),n=e([r]);r=(n.then?(await n)():n)[0];let o="https://connectify-a2ya.onrender.com",i=r.default.create({baseURL:o});s()}catch(e){s(e)}})},6037:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{CF:()=>d,DY:()=>c,Fy:()=>g,Lx:()=>i,Oe:()=>p,Wm:()=>u,Zt:()=>l,hf:()=>h});var r=a(9198),n=a(5680),o=e([r,n]);[r,n]=o.then?(await o)():o;let i=(0,r.createAsyncThunk)("user/login",async(e,t)=>{try{let a=await n.$.post("/login",{email:e.email,password:e.password});if(!a.data.token)return t.rejectWithValue({message:"token not provided"});return localStorage.setItem("token",a.data.token),t.fulfillWithValue(a.data.token)}catch(e){return t.rejectWithValue(e.response.data)}}),c=(0,r.createAsyncThunk)("user/register",async(e,t)=>{try{let a=await n.$.post("/register",{username:e.username,password:e.password,email:e.email,name:e.name});return t.fulfillWithValue(a.data)}catch(e){return t.rejectWithValue(e.response.data)}}),l=(0,r.createAsyncThunk)("user/getAboutUser",async(e,t)=>{try{let a=await n.$.get("/get_user_and_profile",{params:{token:e.token}});return t.fulfillWithValue(a.data)}catch(e){return t.rejectWithValue(e.response.data)}}),d=(0,r.createAsyncThunk)("user/getAllUsers",async(e,t)=>{try{let e=await n.$.get("/user/get_all_users");return t.fulfillWithValue(e.data)}catch(e){return t.rejectWithValue(e.response.data)}}),u=(0,r.createAsyncThunk)("user/sendConnectionRequest",async(e,t)=>{try{let a=await n.$.post("/user/send_connection_request",{token:e.token,connectionId:e.user_id});return t.dispatch(p({token:e.token})),t.fulfillWithValue(a.data)}catch(e){return t.rejectWithValue(e.response.data)}}),p=(0,r.createAsyncThunk)("user/getConnectionRequest",async(e,t)=>{try{let a=await n.$.get("/user/getConnectionRequests",{params:{token:e.token}});return t.fulfillWithValue(a.data.connections)}catch(e){return t.rejectWithValue(e.response.data.message)}}),h=(0,r.createAsyncThunk)("user/getMyConnectionRequests",async(e,t)=>{try{let a=await n.$.get("/user/user_connection_request",{params:{token:e.token}});return t.fulfillWithValue(a.data)}catch(e){return t.rejectWithValue(e.response.data.message)}}),g=(0,r.createAsyncThunk)("user/acceptConnection",async(e,t)=>{try{let a=await n.$.post("/user/accept_connection_request",{token:e.token,requestId:e.connectionId,action_type:e.action});return t.dispatch(p({token:e.token})),t.dispatch(h({token:e.token})),t.fulfillWithValue(a.data)}catch(e){return t.rejectWithValue(e.response.data.message)}});s()}catch(e){s(e)}})},6253:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{Gy:()=>p,Ow:()=>u,XS:()=>d,pD:()=>c,ys:()=>l,zX:()=>i});var r=a(5680),n=a(9198),o=e([r,n]);[r,n]=o.then?(await o)():o;let i=(0,n.createAsyncThunk)("post/getAllPosts",async(e,t)=>{try{let e=await r.$.get("/posts");return t.fulfillWithValue(e.data)}catch(e){return t.rejectWithValue(e.response.data)}}),c=(0,n.createAsyncThunk)("post/createPost",async(e,t)=>{let{file:a,body:s}=e;try{let e=new FormData;e.append("token",localStorage.getItem("token")),e.append("body",s),e.append("media",a);let n=await r.$.post("/post",e,{headers:{"Content-Type":"multipart/form-data"}});if(200===n.status)return t.fulfillWithValue("post uploaded");return t.rejectWithValue("post not uploaded")}catch(e){return t.rejectWithValue(e.response.data)}}),l=(0,n.createAsyncThunk)("post/deletePost",async(e,t)=>{try{let a=await r.$.delete("/delete_post",{data:{token:localStorage.getItem("token"),post_id:e.post_id}});return t.fulfillWithValue(a.data)}catch(e){return t.rejectWithValue("something went wrong")}}),d=(0,n.createAsyncThunk)("post/incrementLike",async(e,t)=>{try{let a=await r.$.post("/increment_post_like",{post_id:e.post_id});return t.fulfillWithValue(a.data)}catch(e){return t.rejectWithValue("something went wrong")}}),u=(0,n.createAsyncThunk)("post/getAllComments",async(e,t)=>{try{let a=await r.$.get("/get_comments",{params:{post_id:e.post_id}});return t.fulfillWithValue({comments:a.data,post_id:e.post_id})}catch(e){return t.rejectWithValue("something went wrong")}}),p=(0,n.createAsyncThunk)("post/postComment",async(e,t)=>{try{console.log({post_id:e.post_id,body:e.body});let a=await r.$.post("/comment",{token:localStorage.getItem("token"),post_id:e.post_id,commentBody:e.body});return t.fulfillWithValue(a.data)}catch(e){return t.rejectWithValue("something went wrong")}});s()}catch(e){s(e)}})},3827:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{Ay:()=>h,FS:()=>d,cL:()=>l,uB:()=>p});var r=a(9198),n=a(6037),o=e([r,n]);[r,n]=o.then?(await o)():o;let i={user:void 0,isError:!1,isSuccess:!1,isLoading:!1,loggedIn:!1,message:{message:""},isTokenThere:!1,profileFetched:!1,connections:[],connectionRequest:[],all_users:[],all_profiles_fetched:!1},c=(0,r.createSlice)({name:"auth",initialState:i,reducers:{reset:()=>i,handleLoginUser:e=>{e.message={message:"Hello"}},emptyMessage:e=>{e.message={message:""}},setTokenIsThere:e=>{e.isTokenThere=!0},setTokenIsNotThere:e=>{e.isTokenThere=!1}},extraReducers:e=>{e.addCase(n.Lx.pending,e=>{e.isLoading=!0,e.message={message:"Knocking the door..."}}).addCase(n.Lx.fulfilled,e=>{e.isError=!1,e.isLoading=!1,e.isSuccess=!0,e.loggedIn=!0,e.message={message:"Login is successful"}}).addCase(n.Lx.rejected,(e,t)=>{e.isError=!0,e.isLoading=!1,e.message=t.payload||{message:"Login failed"}}).addCase(n.DY.pending,e=>{e.isLoading=!0,e.message={message:"Registering you..."}}).addCase(n.DY.fulfilled,e=>{e.isError=!1,e.isLoading=!1,e.isSuccess=!0,e.loggedIn=!0,e.message={message:"Registration successful, please log in"}}).addCase(n.DY.rejected,(e,t)=>{e.isError=!0,e.isLoading=!1,e.message=t.payload||{message:"Registration failed"}}).addCase(n.Zt.fulfilled,(e,t)=>{e.isLoading=!1,e.isError=!1,e.profileFetched=!0,e.user=t.payload.profile}).addCase(n.CF.fulfilled,(e,t)=>{e.isLoading=!1,e.isError=!1,e.all_profiles_fetched=!0,e.all_users=t.payload.profiles}).addCase(n.Oe.fulfilled,(e,t)=>{e.connections=t.payload}).addCase(n.Oe.rejected,(e,t)=>{e.message=t.payload}).addCase(n.hf.fulfilled,(e,t)=>{e.connectionRequest=t.payload}).addCase(n.hf.rejected,(e,t)=>{e.message=t.payload})}}),{reset:l,emptyMessage:d,setTokenIsNotThere:u,setTokenIsThere:p}=c.actions,h=c.reducer;s()}catch(e){s(e)}})},5291:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{Ay:()=>u,Xw:()=>d});var r=a(9198),n=a(6253),o=e([r,n]);[r,n]=o.then?(await o)():o;let i={posts:[],isError:!1,postFetched:!1,isLoading:!1,loggedIn:!1,message:"",comments:[],postId:""},c=(0,r.createSlice)({name:"post",initialState:i,reducers:{reset:()=>i,resetPostId:e=>{e.postId=""}},extraReducers:e=>{e.addCase(n.zX.pending,e=>{e.isLoading=!0,e.message="fetching all the posts"}).addCase(n.zX.fulfilled,(e,t)=>{e.isLoading=!1,e.isError=!1,e.postFetched=!0,e.posts=t.payload.posts.reverse()}).addCase(n.zX.rejected,(e,t)=>{e.isLoading=!1,e.isError=!0,e.message=t.payload}).addCase(n.Ow.fulfilled,(e,t)=>{e.postId=t.payload.post_id,e.comments=t.payload.comments})}}),{reset:l,resetPostId:d}=c.actions,u=c.reducer;s()}catch(e){s(e)}})},2464:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{M:()=>c});var r=a(9198),n=a(3827),o=a(5291),i=e([r,n,o]);[r,n,o]=i.then?(await i)():i;let c=(0,r.configureStore)({reducer:{auth:n.Ay,postReducer:o.Ay}});s()}catch(e){s(e)}})},3200:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.r(t),a.d(t,{default:()=>c});var r=a(8732),n=a(2464);a(9361);var o=a(4062),i=e([n,o]);function c({Component:e,pageProps:t}){return(0,r.jsx)(o.Provider,{store:n.M,children:(0,r.jsx)(e,{...t})})}[n,o]=i.then?(await i)():i,s()}catch(e){s(e)}})},9361:()=>{},8732:e=>{"use strict";e.exports=require("react/jsx-runtime")},9198:e=>{"use strict";e.exports=import("@reduxjs/toolkit")},1428:e=>{"use strict";e.exports=import("axios")},4062:e=>{"use strict";e.exports=import("react-redux")}};var t=require("../webpack-runtime.js");t.C(e);var a=t(t.s=3200);module.exports=a})();