(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[63],{7607:(e,n,o)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return o(1635)}])},262:(e,n,o)=>{"use strict";o.d(n,{A:()=>d});var r=o(4848),s=o(6540),t=o(5237),i=o.n(t),a=o(6715),l=o(4200),c=o(1468);function d(e){let{children:n}=e,o=(0,a.useRouter)(),t=(0,c.wA)(),d=(0,c.d4)(e=>e.auth);return(0,s.useEffect)(()=>{null===localStorage.getItem("token")&&o.push("/login"),t((0,l.uB)())}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"container",children:(0,r.jsxs)("div",{className:i().homeContainer,children:[(0,r.jsxs)("div",{className:i().homeContainer__left,children:[(0,r.jsxs)("div",{onClick:()=>{o.push("/dashboard")},className:i().sideBarOption,children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})}),(0,r.jsx)("p",{children:"Scroll"})]}),(0,r.jsxs)("div",{onClick:()=>{o.push("/discover")},className:i().sideBarOption,children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),(0,r.jsx)("p",{children:"Discover"})]}),(0,r.jsxs)("div",{onClick:()=>{o.push("/my_connections")},className:i().sideBarOption,children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})}),(0,r.jsx)("p",{children:"My Connections"})]})]}),(0,r.jsx)("div",{className:i().homeContainer__feedContainer,children:n}),(0,r.jsxs)("div",{className:i().homeContainer__extraContainer,children:[(0,r.jsx)("h3",{children:"Top Profiles"}),d.all_profiles_fetched&&d.all_users.map(e=>(0,r.jsx)("div",{className:i().extraContainer__profile,children:(0,r.jsx)("p",{children:e.userId.name})},e._id))]})]})}),(0,r.jsxs)("div",{className:i().mobileNavbar,children:[(0,r.jsx)("div",{onClick:()=>{o.push("/dashboard")},className:i().singleNavItemHolder_mobileView,children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})})}),(0,r.jsx)("div",{onClick:()=>{o.push("/discover")},className:i().singleNavItemHolder_mobileView,children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})}),(0,r.jsx)("div",{onClick:()=>{o.push("my_connections")},className:i().singleNavItemHolder_mobileView,children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})})})]})]})}},8188:(e,n,o)=>{"use strict";o.d(n,{A:()=>d});var r=o(4848);o(6540);var s=o(9131),t=o.n(s),i=o(6715),a=o(1468),l=o(4200);function c(){let e=(0,i.useRouter)(),n=(0,a.wA)(),o=(0,a.d4)(e=>e.auth);return(0,r.jsx)("div",{className:t().container,children:(0,r.jsxs)("nav",{className:t().navBar,children:[(0,r.jsx)("h1",{style:{cursor:"pointer"},onClick:()=>{e.push("/")},children:"ProConnect"}),(0,r.jsxs)("div",{className:t().navBarOptionContainer,children:[o.profileFetched&&(0,r.jsx)("div",{children:(0,r.jsxs)("div",{style:{display:"flex",gap:"1.2rem"},children:[(0,r.jsxs)("p",{children:["Hey, ",o.user.userId.name]}),(0,r.jsx)("p",{onClick:()=>{e.push("/profile")},style:{fontWeight:"bold",cursor:"pointer"},children:"Profile"}),(0,r.jsx)("p",{onClick:()=>{localStorage.removeItem("token"),e.push("/login"),n((0,l.cL)())},style:{fontWeight:"bold",cursor:"pointer"},children:"Logout"})]})}),!o.profileFetched&&(0,r.jsx)("div",{onClick:()=>{e.push("/login")},className:t().buttonJoin,children:(0,r.jsx)("p",{children:"Be a part"})})]})]})})}let d=function(e){let{children:n}=e;return(0,r.jsxs)("div",{children:[(0,r.jsx)(c,{}),n]})}},1635:(e,n,o)=>{"use strict";o.r(n),o.d(n,{default:()=>m});var r=o(4848),s=o(5494),t=o(262),i=o(8188),a=o(6540),l=o(1468),c=o(9216),d=o.n(c),h=o(1609),p=o(9634);function m(){let e=(0,l.wA)(),n=(0,l.d4)(e=>e.auth),o=(0,l.d4)(e=>e.postReducer),[c,m]=(0,a.useState)({}),[u,_]=(0,a.useState)({}),[x,v]=(0,a.useState)(!1),[j,k]=(0,a.useState)({company:"",position:"",years:""}),f=e=>{let{name:n,value:o}=e.target;k({...j,[n]:o})};(0,a.useEffect)(()=>{e((0,s.Zt)({token:localStorage.getItem("token")})),e((0,p.zX)())},[]),(0,a.useEffect)(()=>{void 0!==n.user&&(m(n.user),_(o.posts.filter(e=>e.userId.username===n.user.username)))},[n.user,o.posts]);let C=async n=>{let o=new FormData;o.append("profile_picture",n),o.append("token",localStorage.getItem("token")),await h.$.post("/update_profile_picture",o,{headers:{"Content-Type":"multipart/form-data"}}),e((0,s.Zt)({token:localStorage.getItem("token")}))},g=async()=>{await h.$.post("/user_update",{token:localStorage.getItem("token"),name:c.userId.name}),await h.$.post("/update_profile_data",{token:localStorage.getItem("token"),bio:c.bio,currentPost:c.currentPost,pastWork:c.pastWork,education:c.education}),e((0,s.Zt)({token:localStorage.getItem("token")}))};return(0,r.jsx)(i.A,{children:(0,r.jsxs)(t.A,{children:[n.user&&c.userId&&(0,r.jsxs)("div",{className:d().container,children:[(0,r.jsxs)("div",{className:d().backDropContainer,children:[(0,r.jsx)("label",{htmlFor:"uploadProfilePicture",className:d().backDrop__overlay,children:(0,r.jsx)("p",{children:"EDIT"})}),(0,r.jsx)("input",{onChange:e=>{C(e.target.files[0])},hidden:!0,type:"file",id:"uploadProfilePicture"}),(0,r.jsx)("img",{className:d().backDrop,src:"".concat(h.C,"/").concat(c.userId.profilePicture)})]}),(0,r.jsx)("div",{className:d().profileContainer_details,children:(0,r.jsxs)("div",{style:{display:"flex",gap:"0.7rem"},children:[(0,r.jsxs)("div",{style:{flex:"0.8"},children:[(0,r.jsxs)("div",{style:{display:"flex",width:"fit-content",alignItems:"center",gap:"1.2rem"},children:[(0,r.jsx)("input",{className:d().nameEdit,type:"text",value:c.userId.name,onChange:e=>{m({...c,userId:{...c.userId,name:e.target.value}})}}),(0,r.jsxs)("p",{style:{color:"gray"},children:["@",c.userId.username]})]}),(0,r.jsx)("div",{children:(0,r.jsx)("textarea",{value:c.bio,onChange:e=>{m({...c,bio:e.target.value})},rows:Math.max(3,Math.ceil(c.bio.length/80)),style:{width:"100%"}})})]}),(0,r.jsxs)("div",{style:{flex:"0.2"},children:[(0,r.jsx)("h3",{children:"Recent Activity"}),u.map(e=>(0,r.jsx)("div",{className:d().postCard,children:(0,r.jsxs)("div",{className:d().card,children:[(0,r.jsx)("div",{className:d().card_profileContainer,children:""!==e.media?(0,r.jsx)("img",{src:"".concat(h.C,"/").concat(e.media)}):(0,r.jsx)("div",{style:{width:"3.4rem",height:"3.4rem"}})}),(0,r.jsx)("p",{children:e.body})]})},e._id))]})]})}),(0,r.jsxs)("div",{className:d().workHistory,children:[(0,r.jsx)("h4",{children:"WORK HISTORY"}),(0,r.jsxs)("div",{className:d().workHistoryContainer,children:[c.pastWork.map((e,n)=>(0,r.jsxs)("div",{className:d().workHistoryCard,children:[(0,r.jsxs)("p",{style:{fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.8rem"},children:[e.company," - ",e.position]}),(0,r.jsx)("p",{children:e.years})]},n)),(0,r.jsx)("button",{className:d().addWorkButton,onClick:()=>{v(!0)},children:"Add Work"})]})]}),c!=n.user&&(0,r.jsx)("div",{onClick:()=>{g()},className:d().connectionButton,children:"Update Profile"})]}),x&&(0,r.jsx)("div",{onClick:()=>{v(!1)},className:d().commentsContainer,children:(0,r.jsxs)("div",{onClick:e=>e.stopPropagation(),className:d().allCommentsContainer,children:[(0,r.jsx)("input",{onChange:f,name:"company",className:d().inputField,type:"text",placeholder:"Enter name of the company"}),(0,r.jsx)("input",{onChange:f,name:"position",className:d().inputField,type:"text",placeholder:"Enter the position you have been working on"}),(0,r.jsx)("input",{onChange:f,name:"years",className:d().inputField,type:"number",placeholder:"Enter the number of years you have worked in the company"}),(0,r.jsx)("div",{onClick:()=>{m({...c,pastWork:[...c.pastWork,j]}),v(!1)},className:d().connectionButton,children:"Add Work"})]})})]})})}o(1508)},9131:e=>{e.exports={container:"styles_container__WCP1D",navBar:"styles_navBar__nMGt3",navBarOptionContainer:"styles_navBarOptionContainer__6SJrf",buttonJoin:"styles_buttonJoin__hW__U"}},5237:e=>{e.exports={homeContainer:"DashboardLayout_homeContainer__pIsyd",homeContainer__left:"DashboardLayout_homeContainer__left__xu68n",sideBarOption:"DashboardLayout_sideBarOption__MHfOg",homeContainer__extraContainer:"DashboardLayout_homeContainer__extraContainer__M8mtY",homeContainer__feedContainer:"DashboardLayout_homeContainer__feedContainer__0i3v7",mobileNavbar:"DashboardLayout_mobileNavbar__dTaU4",singleNavItemHolder_mobileView:"DashboardLayout_singleNavItemHolder_mobileView__QZ3YN"}},9216:e=>{e.exports={container:"profile_container__oOWE6",backDropContainer:"profile_backDropContainer__yjSzu",backDrop__overlay:"profile_backDrop__overlay__fsua6",profileContainer_details:"profile_profileContainer_details__VrJ1Y",card:"profile_card__cvuSz",card_profileContainer:"profile_card_profileContainer__KI0ty",connectBtn:"profile_connectBtn__LkEe3",connectionButton:"profile_connectionButton__YtSrQ",workHistoryContainer:"profile_workHistoryContainer__KZucT",workHistoryCard:"profile_workHistoryCard__VOhd6",nameEdit:"profile_nameEdit__JI1j_",addWorkButton:"profile_addWorkButton__HeXb9",commentsContainer:"profile_commentsContainer__yjsIq",allCommentsContainer:"profile_allCommentsContainer__IVHMT",inputField:"profile_inputField__MuZ1h"}},6715:(e,n,o)=>{e.exports=o(8440)}},e=>{var n=n=>e(e.s=n);e.O(0,[636,593,792],()=>n(7607)),_N_E=e.O()}]);