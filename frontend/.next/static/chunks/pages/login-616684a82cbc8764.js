(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[295],{3855:(e,n,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t(2523)}])},8188:(e,n,t)=>{"use strict";t.d(n,{A:()=>d});var s=t(4848);t(6540);var i=t(9131),a=t.n(i),l=t(6715),r=t(1468),o=t(4200);function c(){let e=(0,l.useRouter)(),n=(0,r.wA)(),t=(0,r.d4)(e=>e.auth);return(0,s.jsx)("div",{className:a().container,children:(0,s.jsxs)("nav",{className:a().navBar,children:[(0,s.jsx)("h1",{style:{cursor:"pointer"},onClick:()=>{e.push("/")},children:"ProConnect"}),(0,s.jsxs)("div",{className:a().navBarOptionContainer,children:[t.profileFetched&&(0,s.jsx)("div",{children:(0,s.jsxs)("div",{style:{display:"flex",gap:"1.2rem"},children:[(0,s.jsxs)("p",{children:["Hey, ",t.user.userId.name]}),(0,s.jsx)("p",{onClick:()=>{e.push("/profile")},style:{fontWeight:"bold",cursor:"pointer"},children:"Profile"}),(0,s.jsx)("p",{onClick:()=>{localStorage.removeItem("token"),e.push("/login"),n((0,o.cL)())},style:{fontWeight:"bold",cursor:"pointer"},children:"Logout"})]})}),!t.profileFetched&&(0,s.jsx)("div",{onClick:()=>{e.push("/login")},className:a().buttonJoin,children:(0,s.jsx)("p",{children:"Be a part"})})]})]})})}let d=function(e){let{children:n}=e;return(0,s.jsxs)("div",{children:[(0,s.jsx)(c,{}),n]})}},2523:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>h});var s=t(4848),i=t(8188),a=t(6715),l=t(6540),r=t(1468),o=t(449),c=t.n(o),d=t(5494),u=t(4200);let h=function(){var e;let n=(0,r.d4)(e=>e.auth),t=(0,a.useRouter)(),o=(0,r.wA)(),[h,p]=(0,l.useState)(!1),[_,g]=(0,l.useState)(""),[x,v]=(0,l.useState)(""),[j,C]=(0,l.useState)(""),[f,m]=(0,l.useState)("");(0,l.useEffect)(()=>{n.loggedIn&&t.push("/dashboard")},[n.loggedIn,t]),(0,l.useEffect)(()=>{localStorage.getItem("token")&&t.push("/dashboard")},[]),(0,l.useEffect)(()=>{o((0,u.FS)())},[h]);let y=()=>{console.log("Registering..."),o((0,d.DY)({username:j,password:x,email:_,name:f}))},N=()=>{console.log("Logging in..."),o((0,d.Lx)({email:_,password:x}))};return(0,s.jsx)(i.A,{children:(0,s.jsx)("div",{className:c().container,children:(0,s.jsxs)("div",{className:c().cardContainer,children:[(0,s.jsxs)("div",{className:c().cardContainer_left,children:[(0,s.jsx)("p",{className:c().cardleft_heading,children:h?"Sign In":"Sign Up"}),(0,s.jsx)("p",{style:{color:n.isError?"red":"green"},children:(null===(e=n.message)||void 0===e?void 0:e.message)||""}),(0,s.jsxs)("div",{className:c().inputContainers,children:[!h&&(0,s.jsxs)("div",{className:c().inputRow,children:[(0,s.jsx)("input",{onChange:e=>C(e.target.value),className:c().inputField,type:"text",placeholder:"Username"}),(0,s.jsx)("input",{onChange:e=>m(e.target.value),className:c().inputField,type:"text",placeholder:"Name"})]}),(0,s.jsx)("input",{onChange:e=>v(e.target.value),className:c().inputField,type:"password",placeholder:"Password"}),(0,s.jsx)("input",{onChange:e=>g(e.target.value),className:c().inputField,type:"email",placeholder:"Email"}),(0,s.jsx)("div",{onClick:()=>{h?N():y()},className:c().buttonWithOutline,children:(0,s.jsx)("p",{children:h?"Sign In":"Sign Up"})})]})]}),(0,s.jsxs)("div",{className:c().cardContainer_right,children:[h?(0,s.jsx)("p",{children:"Don't Have an Account?"}):(0,s.jsx)("p",{children:"Already Have an Account?"}),(0,s.jsx)("div",{onClick:()=>p(!h),style:{color:"black",textAlign:"center"},className:c().buttonWithOutline,children:(0,s.jsx)("p",{children:h?"Sign Up":"Sign In"})})]})]})})})}},9131:e=>{e.exports={container:"styles_container__WCP1D",navBar:"styles_navBar__nMGt3",navBarOptionContainer:"styles_navBarOptionContainer__6SJrf",buttonJoin:"styles_buttonJoin__hW__U"}},449:e=>{e.exports={container:"style_container__Nj7el",cardContainer:"style_cardContainer__SCBkm",cardContainer_left:"style_cardContainer_left__yKoXf",cardleft_heading:"style_cardleft_heading__JPf5b",inputField:"style_inputField__7bakR",inputContainers:"style_inputContainers__VRrc_",inputRow:"style_inputRow__jnCkT",buttonWithOutline:"style_buttonWithOutline__78btZ",cardContainer_right:"style_cardContainer_right__23EES"}},6715:(e,n,t)=>{e.exports=t(8440)}},e=>{var n=n=>e(e.s=n);e.O(0,[636,593,792],()=>n(3855)),_N_E=e.O()}]);